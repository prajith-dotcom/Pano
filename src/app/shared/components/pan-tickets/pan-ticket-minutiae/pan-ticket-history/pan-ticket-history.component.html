<div id="actions-table">
  <div *ngIf="dataSource">
    <mat-table #table [dataSource]="dataSource" *ngIf="dataSource.filteredData.length > 0 ; else noActions">
      <!-- Action Name Column -->
      <ng-container matColumnDef="actionTime">
        <mat-header-cell *matHeaderCellDef> Action Time </mat-header-cell>
        <mat-cell *matCellDef="let action"> {{action.actionTime === null ? 'N/A' : (action.actionTime | date:'MM/dd/yyyy, h:mm:ss a')}} </mat-cell>
      </ng-container>

      <!-- Action Name Column -->
      <ng-container matColumnDef="actionNumber">
        <mat-header-cell *matHeaderCellDef> Action Number </mat-header-cell>
        <mat-cell *matCellDef="let action"> {{action.actionNumber}} </mat-cell>
      </ng-container>

      <!-- Username Column -->
      <ng-container matColumnDef="username">
        <mat-header-cell *matHeaderCellDef> Added By </mat-header-cell>
        <mat-cell *matCellDef="let action"> {{action.globalId}} </mat-cell>
      </ng-container>

      <!-- Type Column -->
      <ng-container matColumnDef="actionType">
        <mat-header-cell *matHeaderCellDef> Action </mat-header-cell>
        <mat-cell *matCellDef="let action"> {{action.type.description}} </mat-cell>
      </ng-container>

      <!-- Description Column -->
      <ng-container matColumnDef="description">
        <mat-header-cell *matHeaderCellDef> Comment </mat-header-cell>
        <mat-cell *matCellDef="let action"> {{action.narrative}} </mat-cell>
      </ng-container>

      <!-- Row Elements -->
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;" matRipple (click)="selectedAction = row" class="row">
      </mat-row>
    </mat-table>

    <!-- Pagination -->
    <mat-paginator #paginator [pageSize]="20" [pageSizeOptions]="[5, 10, 20]" [showFirstLastButtons]="false">
    </mat-paginator>
  </div>
</div>

<ng-template #noActions>
  <div style="text-align: center;">
    <h4>No Actions to Display</h4>
  </div>
</ng-template>
